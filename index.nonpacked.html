<!DOCTYPE html><html><head><meta name=viewport content="initial-scale=1"></head><body id=b><script>let t=[],e=document.createElement`button`,l=document.createElement`div`,o=document.createElement`div`;function r(){o.innerText=10,e.innerText=`ğŸ™‚`,l.innerText=``;for(let e=0;9>e;e++){t[e]=[];for(let l=0;9>l;l++)t[e][l]=0}let r=()=>{let e=~~(9*Math.random()),l=~~(9*Math.random());t[e][l]?r():t[e][l]=9};for(let t=0;10>t;t++)r();for(let e=0;9>e;e++)for(let o=0;9>o;o++){9>t[e][o]&&t[e-1]?.[o-1]>8&&t[e][o]++,9>t[e][o]&&t[e]?.[o-1]>8&&t[e][o]++,9>t[e][o]&&t[e+1]?.[o-1]>8&&t[e][o]++,9>t[e][o]&&t[e-1]?.[o]>8&&t[e][o]++,9>t[e][o]&&t[e+1]?.[o]>8&&t[e][o]++,9>t[e][o]&&t[e-1]?.[o+1]>8&&t[e][o]++,9>t[e][o]&&t[e]?.[o+1]>8&&t[e][o]++,9>t[e][o]&&t[e+1]?.[o+1]>8&&t[e][o]++;let r=document.createElement`button`;r.style.cssText=`aspect-ratio:1`,r.onclick=()=>n(e,o,1),r.oncontextmenu=t=>t.preventDefault()&i(r),l.append(r)}}l.style.cssText=`width:320px;height:320px;display:grid;grid-template-columns:repeat(9,1fr)`,e.style.cssText=`font-size:2em;width:2em;height:2em`,e.onclick=r,b.append(o),b.append(e),r(),b.append(l);let f=()=>{for(let e=0;9>e;e++)for(let o=0;9>o;o++){let r=l.children[9*e+o];if(t[e][o]>8&&`ğŸš©`!==r.innerText||9>t[e][o]&&!r.disabled)return 0}e.innerText=`ğŸ¤©`;for(let t=0;9>t;t++)for(let e=0;9>e;e++)l.children[9*t+e].disabled=1},i=t=>{if(t.innerText)return t.innerText=``,void(o.innerText=+o.innerText+1);+o.innerText&&(t.innerText=`ğŸš©`,o.innerText=+o.innerText-1,f())},n=(r,i,d)=>{let u=l.children[9*r+i];if(r>=0&&9>r&&i>=0&&9>i&&!u.disabled){if(`ğŸš©`==u.innerText){if(d)return;o.innerText=+o.innerText+1}u.innerText=t[r][i]||``,u.disabled=1,t[r][i]>8?d&&(()=>{for(let e=0;9>e;e++)for(let o=0;9>o;o++){let r=l.children[9*e+o];t[e][o]>8&&(r.innerText=`ğŸ’£`),r.disabled=1}e.innerText=`ğŸ˜µ`})():(f(),t[r][i]||(n(r-1,i-1),n(r,i-1),n(r+1,i-1),n(r-1,i),n(r+1,i),n(r-1,i+1),n(r,i+1),n(r+1,i+1)))}}</script></body></html>